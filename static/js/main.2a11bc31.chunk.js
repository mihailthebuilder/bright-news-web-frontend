(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{32:function(e,t,r){},33:function(e,t,r){},34:function(e,t,r){},54:function(e,t,r){},64:function(e,t,r){},65:function(e,t,r){},66:function(e,t,r){},67:function(e,t,r){},68:function(e,t,r){},69:function(e,t,r){},70:function(e,t,r){},71:function(e,t,r){"use strict";r.r(t);var n,s,a,c,l,i=r(1),o=r.n(i),u=r(24),h=r.n(u),d=(r(32),r(4)),j=(r(33),r(2)),b=r(10),p=(r(34),["title","titleId"]);function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f.apply(this,arguments)}function m(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function O(e,t){var r=e.title,o=e.titleId,u=m(e,p);return i.createElement("svg",f({height:"511pt",viewBox:"1 -19 511.999 511",width:"511pt",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":o},u),r?i.createElement("title",{id:o},r):null,n||(n=i.createElement("path",{d:"m111.398438 329.171875c-18.304688 0-33.199219 14.894531-33.199219 33.199219 0 18.308594 14.894531 33.199218 33.199219 33.199218 18.308593 0 33.199218-14.890624 33.199218-33.199218.003906-18.304688-14.890625-33.199219-33.199218-33.199219zm10.605468 43.804687c-2.789062 2.789063-6.652344 4.390626-10.601562 4.390626-3.949219 0-7.820313-1.601563-10.609375-4.390626-2.789063-2.792968-4.390625-6.660156-4.390625-10.601562 0-3.949219 1.601562-7.820312 4.390625-10.609375 2.789062-2.789063 6.660156-4.390625 10.609375-4.390625 3.949218 0 7.8125 1.601562 10.601562 4.390625 2.800782 2.789063 4.398438 6.660156 4.398438 10.609375s-1.597656 7.808594-4.398438 10.601562zm0 0"})),s||(s=i.createElement("path",{d:"m255.953125 78.710938c-5.78125 0-11.507813 1.539062-16.554687 4.453124-7.679688 4.433594-13.171876 11.59375-15.46875 20.160157-2.292969 8.566406-1.117188 17.511719 3.316406 25.191406 5.917968 10.246094 16.949218 16.605469 28.796875 16.605469 5.78125 0 11.507812-1.539063 16.554687-4.453125 7.683594-4.433594 13.175782-11.59375 15.472656-20.160157 2.292969-8.5625 1.117188-17.511718-3.320312-25.191406-5.910156-10.242187-16.945312-16.605468-28.796875-16.605468zm10.648437 43.8125c-2.789062 2.792968-6.65625 4.390624-10.597656 4.390624-3.949218 0-7.820312-1.597656-10.609375-4.390624-2.792969-2.789063-4.390625-6.660157-4.390625-10.609376 0-3.949218 1.597656-7.808593 4.390625-10.609374 2.789063-2.789063 6.648438-4.390626 10.609375-4.390626 3.949219 0 7.808594 1.601563 10.597656 4.390626 2.800782 2.800781 4.402344 6.660156 4.402344 10.609374 0 3.949219-1.601562 7.820313-4.402344 10.609376zm0 0"})),a||(a=i.createElement("path",{d:"m400.601562 329.171875c-18.308593 0-33.203124 14.894531-33.203124 33.199219 0 18.308594 14.894531 33.199218 33.203124 33.199218 18.304688 0 33.199219-14.890624 33.199219-33.199218 0-18.304688-14.894531-33.199219-33.199219-33.199219zm10.601563 43.804687c-2.789063 2.789063-6.648437 4.390626-10.601563 4.390626-3.949218 0-7.816406-1.601563-10.609374-4.390626-2.789063-2.792968-4.390626-6.652343-4.390626-10.601562s1.601563-7.820312 4.390626-10.609375c2.792968-2.789063 6.660156-4.390625 10.609374-4.390625 3.953126 0 7.8125 1.601562 10.601563 4.390625s4.390625 6.660156 4.390625 10.609375c0 3.941406-1.601562 7.808594-4.390625 10.601562zm0 0"})),c||(c=i.createElement("path",{d:"m256 257.734375c-11.664062 0-21.148438 9.488281-21.148438 21.148437 0 11.664063 9.484376 21.148438 21.148438 21.148438 11.660156 0 21.148438-9.484375 21.148438-21.148438 0-11.660156-9.488282-21.148437-21.148438-21.148437zm0 0"})),l||(l=i.createElement("path",{d:"m400.832031 250.972656c-.078125 0-.152343-.007812-.234375-.007812-30.640625 0-55.570312-24.929688-55.570312-55.566406 0-9.191407 2.300781-18.269532 6.644531-26.324219 5.199219-8.734375 9.230469-18.238281 11.933594-28.328125 7.703125-28.742188 3.75-58.761719-11.128907-84.527344-19.839843-34.371094-56.839843-55.71875-96.566406-55.71875-19.449218 0-38.679687 5.164062-55.609375 14.941406-25.769531 14.878906-44.203125 38.898438-51.902343 67.640625-7.660157 28.59375-3.785157 58.445313 10.898437 84.121094.074219.144531.144531.289063.226563.429687 4.875 8.421876 7.449218 18.019532 7.449218 27.765626 0 30.640624-24.929687 55.570312-55.570312 55.570312-.078125 0-.15625.003906-.234375.007812-61.320313.125-111.167969 50.046876-111.167969 111.394532 0 61.425781 49.972656 111.398437 111.398438 111.398437 41.121093 0 77.101562-22.394531 96.402343-55.625.144531-.21875.289063-.4375.425781-.664062 4.835938-8.167969 11.746094-14.996094 19.984376-19.753907 8.449218-4.875 18.03125-7.453124 27.710937-7.453124 19.621094 0 37.976563 10.476562 47.929687 27.347656.105469.1875.214844.375.324219.5625.183594.3125.375.613281.578125.90625 19.433594 32.710937 55.117188 54.683594 95.847656 54.683594 61.425782 0 111.398438-49.976563 111.398438-111.402344 0-61.347656-49.847656-111.269532-111.167969-111.398438zm-289.433593 174.597656c-34.847657 0-63.199219-28.351562-63.199219-63.199218s28.351562-63.199219 63.199219-63.199219c34.851562 0 63.199218 28.351563 63.199218 63.199219.003906 34.847656-28.347656 63.199218-63.199218 63.199218zm144.601562-95.535156c-28.203125 0-51.148438-22.945312-51.148438-51.148437 0-28.207031 22.945313-51.152344 51.148438-51.152344s51.148438 22.945313 51.148438 51.152344c0 28.203125-22.945313 51.148437-51.148438 51.148437zm61.046875-201.761718c-4.367187 16.304687-14.828125 29.933593-29.449219 38.375-9.601562 5.542968-20.511718 8.476562-31.554687 8.476562-22.53125 0-43.519531-12.113281-54.773438-31.609375-8.441406-14.617187-10.683593-31.648437-6.316406-47.953125 4.371094-16.308594 14.828125-29.9375 29.449219-38.378906 9.601562-5.542969 20.511718-8.472656 31.550781-8.472656 22.535156 0 43.527344 12.109374 54.78125 31.605468 8.4375 14.621094 10.683594 31.652344 6.3125 47.957032zm83.554687 297.296874c-34.851562 0-63.203124-28.351562-63.203124-63.199218s28.355468-63.199219 63.203124-63.199219c34.847657 0 63.199219 28.351563 63.199219 63.199219s-28.351562 63.199218-63.199219 63.199218zm0 0"})))}var g,w=i.forwardRef(O),x=(r.p,r(25)),v=r.n(x),y=function(e){for(var t=e.slice(),r=t.length-1;r>0;r--){var n=Math.floor(Math.random()*(r+1)),s=[t[n],t[r]];t[r]=s[0],t[n]=s[1]}return t},k=[{group:"red",styleClass:"red-score",name:"Negative",lowerBound:-1,upperBound:33},{group:"yellow",styleClass:"yellow-score",name:"Average",lowerBound:33,upperBound:66},{group:"green",styleClass:"green-score",name:"Positive",lowerBound:66,upperBound:100}],N=function(e,t){return e.length>t?e.slice(0,t)+"...":e},E=(r(54),["title","titleId"]);function I(){return I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I.apply(this,arguments)}function z(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function S(e,t){var r=e.title,n=e.titleId,s=z(e,E);return i.createElement("svg",I({height:"329pt",viewBox:"0 0 329.26933 329",width:"329pt",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},s),r?i.createElement("title",{id:n},r):null,g||(g=i.createElement("path",{d:"m194.800781 164.769531 128.210938-128.214843c8.34375-8.339844 8.34375-21.824219 0-30.164063-8.339844-8.339844-21.824219-8.339844-30.164063 0l-128.214844 128.214844-128.210937-128.214844c-8.34375-8.339844-21.824219-8.339844-30.164063 0-8.34375 8.339844-8.34375 21.824219 0 30.164063l128.210938 128.214843-128.210938 128.214844c-8.34375 8.339844-8.34375 21.824219 0 30.164063 4.15625 4.160156 9.621094 6.25 15.082032 6.25 5.460937 0 10.921875-2.089844 15.082031-6.25l128.210937-128.214844 128.214844 128.214844c4.160156 4.160156 9.621094 6.25 15.082032 6.25 5.460937 0 10.921874-2.089844 15.082031-6.25 8.34375-8.339844 8.34375-21.824219 0-30.164063zm0 0"})))}var B=i.forwardRef(S),_=(r.p,r(0)),M=function(e){var t=e.displayError,r=e.setDisplayError;return Object(_.jsxs)("button",{className:t?"error-message show":"error-message hide",onClick:function(){return r(!1)},children:[Object(_.jsx)("span",{children:"Couldn't load the URL. Please try another one."}),Object(_.jsx)(B,{})]})},C=function(e){var t=e.setUrlResults,r=Object(i.useState)(""),n=Object(d.a)(r,2),s=n[0],a=n[1],c=Object(i.useState)(!1),l=Object(d.a)(c,2),o=l[0],u=l[1],h=Object(i.useState)(!1),b=Object(d.a)(h,2),p=b[0],f=b[1],m=Object(j.g)(),O=Object(j.f)();return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(M,{displayError:p,setDisplayError:f}),Object(_.jsxs)("form",{className:"/"===m.pathname?"landing-search-form":"nav-search-form",onSubmit:function(e){e.preventDefault(),u(!0),v.a.post(("localhost"===window.location.hostname?"http://localhost:8000":"https://bright-news-backend.herokuapp.com")+"/api/calculate",{url:s}).then((function(e){if(200!==e.status)throw new Error("Bad request");t(e.data),u(!1),a(""),O.push("/results")})).catch((function(e){f(!0),setTimeout((function(){return f(!1)}),3e3),u(!1),a("")}))},method:"post",children:[Object(_.jsx)("input",{onChange:function(e){a(e.target.value)},value:s,type:"text",placeholder:"e.g. bbc.co.uk",required:!0}),o?Object(_.jsx)("button",{className:"loading-button",children:Object(_.jsx)(w,{})}):Object(_.jsx)("button",{className:"normal-button",type:"submit",children:"Analyse"})]})]})},A=function(e){var t=e.setUrlResults,r=Object(j.g)();return Object(_.jsx)("header",{children:Object(_.jsxs)("nav",{children:[Object(_.jsx)(b.b,{to:"/",className:"left-nav-wrapper nav-wrapper",children:"Bright News"}),r.pathname.match(/results|about/)&&Object(_.jsx)("div",{className:"search-nav-wrapper nav-wrapper",children:Object(_.jsx)(C,{setUrlResults:t})}),Object(_.jsx)(b.b,{to:"/about",className:"right-nav-wrapper nav-wrapper",children:"About..."})]})})},P=(r(64),function(){return Object(_.jsxs)("footer",{children:[Object(_.jsx)("span",{children:"\xa9 Mihail Marian"}),Object(_.jsx)("span",{className:"footer-break",children:" - "}),Object(_.jsx)("span",{children:"I have fierce lawyers."})]})}),R=(r(65),function(e){var t=e.children;return Object(_.jsxs)("section",{className:"landing-section",children:[Object(_.jsx)("h3",{className:"instructions",children:"Type the link for a news site to calculate its positivity score."}),t]})}),T=(r(66),r(67),function(e){var t=e.websites,r=e.urlAnalyzed,n=e.scoregroup,s=e.index;return Object(_.jsxs)("li",{className:"score-group",children:[Object(_.jsxs)("h3",{children:[n.name," sites:"]}),Object(_.jsx)("ul",{children:function(e){var s=t.filter((function(e){return e.score>n.lowerBound&&e.score<=n.upperBound&&e.url!==r}));return e>=s.length?s:y(s).slice(0,e)}(3).map((function(e,t){return Object(_.jsx)("li",{children:Object(_.jsx)("a",{className:n.styleClass,href:"//"+e.url,target:"_blank",rel:"noreferrer",children:N(e.url,20)+" ("+Math.round(e.score).toString()+"%)"})},t)}))})]},s)}),U=(r(68),function(e){var t=e.type,r=e.results,n=Object(i.useState)("no-style"),s=Object(d.a)(n,2),a=s[0],c=s[1],l=Object(i.useState)(""),o=Object(d.a)(l,2),u=o[0],h=o[1];Object(i.useEffect)((function(){var e="negative"===t?0:2;c(k[e].styleClass),h(k[e].name)}),[t]);var j=Object(i.useState)([]),b=Object(d.a)(j,2),p=b[0],f=b[1];Object(i.useEffect)((function(){f(r.website_raw_data.filter("negative"===t?function(e){return e.combined_score<0}:function(e){return e.combined_score>0}))}),[t,r]);var m=Object(i.useState)([]),O=Object(d.a)(m,2),g=O[0],w=O[1];return Object(i.useEffect)((function(){p.length>4?w(y(p).slice(0,4)):w(p)}),[p]),Object(_.jsxs)("li",{className:"analysis-group",children:[Object(_.jsxs)("h3",{children:[p.length," pieces of"," ",Object(_.jsx)("span",{className:a,children:u})," content"]}),Object(_.jsx)("ul",{children:g.map((function(e,t){return Object(_.jsx)("li",{children:Object(_.jsx)("a",{className:a,href:'https://www.google.com/search?q="'.concat(e.text,'"'),target:"_blank",rel:"noreferrer",children:Object(_.jsxs)("i",{children:['"',e.text,'"']})})},t)}))})]})}),q=function(e){var t=e.results,r=Object(i.useState)(0),n=Object(d.a)(r,2),s=n[0],a=n[1],c=Object(i.useState)(Object(_.jsx)("span",{})),l=Object(d.a)(c,2),o=l[0],u=l[1];Object(i.useEffect)((function(){var e=t.website_li.find((function(e){return e.url===t.url_analyzed}));e&&a(Math.round(e.score)),u(Object(_.jsx)("ul",{className:"score-group-comparison",children:k.map((function(e,r){return Object(_.jsx)(T,{websites:t.website_li,urlAnalyzed:t.url_analyzed,scoregroup:e,index:r},r)}))}))}),[t]);var h=Object(i.useState)("yellow"),j=Object(d.a)(h,2),b=j[0],p=j[1];return Object(i.useEffect)((function(){for(var e=0;e<k.length;e++)if(s>k[e].lowerBound&&s<=k[e].upperBound){p(k[e].styleClass);break}}),[s]),Object(_.jsxs)("section",{className:"results-section",children:[Object(_.jsx)("div",{children:Object(_.jsxs)("h2",{className:"result-headline",children:[Object(_.jsxs)("span",{className:"score-text",children:[Object(_.jsx)("a",{href:"//"+t.url_analyzed,className:"url "+b,target:"_blank",rel:"noreferrer",children:N(t.url,15)}),"'s positivity score:"]}),Object(_.jsxs)("span",{className:"score "+b,children:[s,"%"]})]})}),o,Object(_.jsxs)("div",{children:[Object(_.jsx)("h2",{className:"analysis-details-headline",children:"Analysis details"}),Object(_.jsxs)("ul",{className:"analysis-details",children:[Object(_.jsx)(U,{type:"negative",results:t}),Object(_.jsx)(U,{type:"positive",results:t})]})]})]})},D=(r(69),function(){return Object(_.jsxs)("section",{className:"about-section",children:[Object(_.jsx)("h1",{children:"About"}),Object(_.jsxs)("div",{className:"about-text",children:[Object(_.jsx)("p",{children:"Hi there, thanks for checking my website! My name is Mihail and I'm a software developer who loves working on the weird and wonderful."}),Object(_.jsx)("p",{children:"In December 2020, I decided to stop following current affairs news in order to be more efficient with my time. I was surprised to find that my mood improved tremendously afterwards - I thought this was an even greater benefit than the productivity gains! Everyone knows that media is biased towards towards negative content; what I didn't realise was how much it actually affected on my mental health."}),Object(_.jsx)("p",{children:"I wanted to share this experience with others. The problem is that it's unrealistic to ask people to suddenly pause all of their news intake. So I put on my engineering hat and thought about how we've managed to reduce the consumption of junk food. The answer? Better data about its effect on our health. And that's how I came up with the idea behind this project :)"}),Object(_.jsx)("p",{children:"I've put a lot of work in developing the scoring algorithm. When you ask it to evaluate a site, the algorithm goes through all the pieces of text found on the page and applies several natural language processing techniques. Multiple positivity values are generated and aggregated into an overall score for the website. This score is added to the database and standardised against past scores for the input site link, as well as the scores for all the other websites. The scores you see on the website represent the final results of this assessment."}),Object(_.jsxs)("p",{children:["Like the idea? Want to talk more about it? Just want to say that I'm an amazing person? I'm available on"," ",Object(_.jsx)("a",{href:"https://www.linkedin.com/in/mihailmarian/",target:"_blank",rel:"noreferrer",children:"LinkedIn"})," ","for all of the above - especially the last one ;)"]})]})]})});r(70);var J=function(){var e=Object(i.useState)(null),t=Object(d.a)(e,2),r=t[0],n=t[1];return Object(_.jsx)(b.a,{basename:"/bright-news-web-frontend",children:Object(_.jsxs)("div",{className:"app",children:[Object(_.jsx)(A,{setUrlResults:n}),Object(_.jsxs)(j.c,{children:[Object(_.jsx)(j.a,{path:"/about",children:Object(_.jsx)(D,{})}),Object(_.jsx)(j.a,{path:"/results",children:r?Object(_.jsx)(q,{results:r}):Object(_.jsx)("div",{children:"No results found."})}),Object(_.jsx)(j.a,{path:"/",children:Object(_.jsx)(R,{children:Object(_.jsx)(C,{setUrlResults:n})})})]}),Object(_.jsx)(P,{})]})})};h.a.render(Object(_.jsx)(o.a.StrictMode,{children:Object(_.jsx)(J,{})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.2a11bc31.chunk.js.map